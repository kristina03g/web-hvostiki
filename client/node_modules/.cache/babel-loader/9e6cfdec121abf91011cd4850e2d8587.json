{"ast":null,"code":"import now from '../util/now';\nexport default function throttle(fn, delay) {\n  var lastExecTime = 0;\n  var timeout;\n  if (!delay || delay <= 0) {\n    return fn;\n  }\n  var throttled = function throttled() {\n    var elapsed = now() - lastExecTime;\n    var args = arguments;\n    var exec = function exec() {\n      fn.apply(null, args);\n      lastExecTime = now();\n    };\n\n    // first execution\n    if (!lastExecTime) {\n      return exec();\n    }\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    if (elapsed > delay) {\n      exec();\n    } else {\n      timeout = setTimeout(exec, delay - elapsed);\n    }\n  };\n  throttled.cancel = function () {\n    clearTimeout(timeout);\n  };\n  return throttled;\n}","map":null,"metadata":{},"sourceType":"module"}