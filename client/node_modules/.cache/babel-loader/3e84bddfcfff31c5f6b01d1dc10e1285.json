{"ast":null,"code":"import ChartElement from './chart-element';\nimport TextBox from './text-box';\nimport { X, BLACK, TOP, CENTER, BOTTOM } from '../common/constants';\nimport { getSpacing, setDefaultOptions } from '../common';\nvar Title = function (ChartElement) {\n  function Title(options) {\n    ChartElement.call(this, options);\n    this._textBox = new TextBox(this.options.text, Object.assign({}, this.options, {\n      vAlign: this.options.position\n    }));\n    this.append(this._textBox);\n  }\n  if (ChartElement) Title.__proto__ = ChartElement;\n  Title.prototype = Object.create(ChartElement && ChartElement.prototype);\n  Title.prototype.constructor = Title;\n  Title.prototype.reflow = function reflow(targetBox) {\n    ChartElement.prototype.reflow.call(this, targetBox);\n    this.box.snapTo(targetBox, X);\n  };\n  Title.buildTitle = function buildTitle(options, defaultOptions) {\n    var titleOptions = options;\n    if (typeof options === \"string\") {\n      titleOptions = {\n        text: options\n      };\n    }\n    titleOptions = Object.assign({\n      visible: true\n    }, defaultOptions, titleOptions);\n    var title;\n    if (titleOptions && titleOptions.visible && titleOptions.text) {\n      title = new Title(titleOptions);\n    }\n    return title;\n  };\n  Title.orderTitles = function orderTitles(titles) {\n    var items = [].concat(titles);\n    var top = items.filter(function (item) {\n      return item && item.options.position !== BOTTOM;\n    });\n    var bottom = items.filter(function (item) {\n      return item && item.options.position === BOTTOM;\n    });\n    collapseVerticalMargins(top);\n    collapseVerticalMargins(bottom);\n    bottom.reverse();\n    return top.concat(bottom);\n  };\n  return Title;\n}(ChartElement);\nfunction collapseVerticalMargins(items) {\n  for (var i = 1; i < items.length; i++) {\n    var box = items[i]._textBox;\n    var prevBox = items[i - 1]._textBox;\n    prevBox.options.margin = Object.assign(getSpacing(prevBox.options.margin), {\n      bottom: 0\n    });\n    box.options.margin = Object.assign(getSpacing(box.options.margin), {\n      top: 0\n    });\n  }\n}\nsetDefaultOptions(Title, {\n  color: BLACK,\n  position: TOP,\n  align: CENTER,\n  margin: getSpacing(5),\n  padding: getSpacing(5)\n});\nexport default Title;","map":null,"metadata":{},"sourceType":"module"}